data:
  cmd: python -m spacy run data
  script:
    - python ./scripts/parse_crest_data.py assets/crest_v2.xlsx data/my_train.spacy
      data/my_dev.spacy data/my_test.spacy
  deps:
    - path: assets/crest_v2.xlsx
      md5: e5b30c11f4a7877b39c4c691eb8724f7
  outs:
    - path: data/my_train.spacy
      md5: 84c4a30cba2aa44de9f70af0ce309d21
    - path: data/my_dev.spacy
      md5: 48462b4701a4e0fda95a07549d71c969
    - path: data/my_test.spacy
      md5: b0fab5ce0b8afe075f473a275d8e29c6
  spacy_version: 3.3.2
  spacy_git_version: 4e032da3b
train_gpu:
  cmd: python -m spacy run train_gpu
  script:
    - python -m spacy train configs/rel_trf.cfg --output training --paths.train data/my_train.spacy
      --paths.dev data/my_dev.spacy -c ./scripts/custom_functions.py --gpu-id 0
  deps:
    - path: configs/rel_trf.cfg
      md5: 71c6bb8a070d01840bdb59dcdcd63bea
    - path: data/my_train.spacy
      md5: 84c4a30cba2aa44de9f70af0ce309d21
    - path: data/my_dev.spacy
      md5: 48462b4701a4e0fda95a07549d71c969
  outs:
    - path: training/model-best
      md5: 621c491d2f9bc79db2e48e05ff4ac66c
  spacy_version: 3.3.2
  spacy_git_version: 4e032da3b
evaluate:
  cmd: python -m spacy run evaluate
  script:
    - python ./scripts/evaluate.py training/model-best data/my_test.spacy False
  deps:
    - path: training/model-best
      md5: 621c491d2f9bc79db2e48e05ff4ac66c
    - path: data/my_test.spacy
      md5: b0fab5ce0b8afe075f473a275d8e29c6
  outs: []
  spacy_version: 3.3.2
  spacy_git_version: 4e032da3b
